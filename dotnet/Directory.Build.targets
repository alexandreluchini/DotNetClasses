<Project>

	<PropertyGroup Condition="'$(TargetFramework)'=='netcoreapp3.1'">
		<AssemblyVersion>1.0.0.0</AssemblyVersion>
		<SignAssembly>false</SignAssembly>
		<GenerateRuntimeConfigurationFiles>true</GenerateRuntimeConfigurationFiles>   
		<WarningsNotAsErrors>CS8032;$(WarningsNotAsErrors)</WarningsNotAsErrors>
		<IsPackable>true</IsPackable>
	</PropertyGroup>
	
	<ItemGroup Condition="'$(TargetFramework)'!='netcoreapp3.1'">
		<PackageReference Include="Microsoft.CodeAnalysis.FxCopAnalyzers" Version="2.9.8">
			<PrivateAssets>all</PrivateAssets>
			<IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
		</PackageReference>
	</ItemGroup>

	<Target Name="CopyAssemblies" Condition="'$(ProjectName)'!=''">
		<Copy SourceFiles="$(ProjectDir)/$(OutDir)$(TargetFileName)" DestinationFolder="$(MSBuildThisFileDirectory)/build/gxnetcore/bin" Condition="'$(TargetFramework)'=='netcoreapp3.1'"/>
		<Copy SourceFiles="$(ProjectDir)/$(OutDir)$(TargetFileName)" DestinationFolder="$(MSBuildThisFileDirectory)/build/gxnet/bin" Condition="'$(TargetFramework)'!='netcoreapp3.1'"/>
	</Target>

</Project>